<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ch6.14: Higher‑Order Functions - C++ Tutorial</title>
  <link rel="stylesheet" href="/style.css">
  <link rel="manifest" href="/manifest.json">
  <link rel="icon" type="image/webp" href="/icons/logo.webp">
</head>
<body>
  <main>

    <h1>Ch6.14: Higher‑Order Functions</h1>

    <!-- ========================= -->
    <!-- INTRODUCTION -->
    <!-- ========================= -->

    <section>
      <h2>Overview</h2>

      <p>
        A <strong>higher‑order function</strong> is simply a function that takes
        another function as an argument, or returns a function. You have already
        seen the building blocks: function pointers and captureless lambdas.
      </p>

      <p>
        In this chapter, you will learn:
      </p>

      <ul>
        <li>how to pass functions to other functions</li>
        <li>how to return functions from functions</li>
        <li>how to build simple dispatch systems</li>
        <li>how to use captureless lambdas as callbacks</li>
      </ul>
    </section>

    <!-- ========================= -->
    <!-- 1. PASSING FUNCTIONS -->
    <!-- ========================= -->

    <section>
      <h2>1. Passing functions to other functions</h2>

      <p>
        A function pointer parameter allows you to pass behavior into a function.
      </p>

<pre><code class="language-cpp">
int operate(int a, int b, int (*op)(int, int))
{
    return op(a, b);
}

int add(int a, int b) { return a + b; }
int mul(int a, int b) { return a * b; }

println(operate(3, 4, add)); // 7
println(operate(3, 4, mul)); // 12
</code></pre>

      <p>
        This is the simplest form of a higher‑order function.
      </p>
    </section>

    <!-- ========================= -->
    <!-- 2. USING CAPTURELESS LAMBDAS -->
    <!-- ========================= -->

    <section>
      <h2>2. Using captureless lambdas as callbacks</h2>

      <p>
        A lambda with no captures can be used anywhere a function pointer is
        expected.
      </p>

<pre><code class="language-cpp">
println(operate(3, 4, [](int a, int b) { return a - b; }));
</code></pre>

      <p>
        This is useful for quick one‑off operations.
      </p>
    </section>

    <!-- ========================= -->
    <!-- 3. RETURNING FUNCTIONS -->
    <!-- ========================= -->

    <section>
      <h2>3. Returning functions from functions</h2>

      <p>
        A function can return a function pointer. This allows you to select behavior
        at runtime.
      </p>

<pre><code class="language-cpp">
int add(int a, int b) { return a + b; }
int sub(int a, int b) { return a - b; }

int (*select_op(char c))(int, int)
{
    if(c == '+') return add;
    return sub;
}

auto op = select_op('+');
println(op(10, 3)); // 13
</code></pre>
    </section>

    <!-- ========================= -->
    <!-- 4. SIMPLE DISPATCH TABLE -->
    <!-- ========================= -->

    <section>
      <h2>4. Simple dispatch table</h2>

      <p>
        You can store multiple functions in an array and choose one at runtime.
      </p>

<pre><code class="language-cpp">
int add(int a, int b) { return a + b; }
int mul(int a, int b) { return a * b; }
int sub(int a, int b) { return a - b; }

int (*ops[3])(int, int){add, mul, sub};

println(ops[0](3, 4)); // add
println(ops[1](3, 4)); // mul
println(ops[2](3, 4)); // sub
</code></pre>

      <p>
        This is the basis of interpreters, state machines, and command dispatchers.
      </p>
    </section>

    <!-- ========================= -->
    <!-- 5. CALLBACKS WITH PARAMETERS -->
    <!-- ========================= -->

    <section>
      <h2>5. Callbacks with parameters</h2>

      <p>
        A callback is simply a function passed to another function to be executed
        later.
      </p>

<pre><code class="language-cpp">
void repeat(int n, void (*f)())
{
    for(int i{}; i != n; ++i)
        f();
}

repeat(3, [] { println("tick"); });
</code></pre>

      <p>
        This prints <code>tick</code> three times.
      </p>
    </section>

    <!-- ========================= -->
    <!-- SUMMARY -->
    <!-- ========================= -->

    <section>
      <h2>Key takeaways</h2>

      <ul>
        <li>A higher‑order function takes or returns a function.</li>
        <li>Function pointers allow you to pass behavior into functions.</li>
        <li>Captureless lambdas can be used as function pointers.</li>
        <li>Returning function pointers enables runtime behavior selection.</li>
        <li>Dispatch tables allow simple interpreters and state machines.</li>
      </ul>
    </section>

    <script src="/sw-register.js"></script>
    <div class="page-navigation">
      <a href="/docs/06.function/13.lambda/" class="prev-button">← Ch6.13: Lambdas</a>
      <a href="/" class="main-button">↑ Main Page</a>
      <a href="/docs/06.function/15.bestpractices/" class="next-button">Ch6.15: Best Practices →</a>
    </div>

  </main>
</body>
</html>
